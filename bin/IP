#!/usr/bin/env ruby
require "Chef_Solo_Nodes"

n = Chef_Solo_IPs(Dir.glob("nodes/#{ARGV.first}.json")).first

unless n
  print 'xx.xx.xx.xx'
  exit 1
end

uri = URI.parse("ssh://#{n}")

print "#{uri.host}"
print ":#{uri.port}" if uri.port
